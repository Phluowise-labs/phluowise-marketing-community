<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-5G6C5PLV');</script>
    <!-- End Google Tag Manager -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Phluowise Marketing Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
      body {
        font-family: "Inter", sans-serif;
        background-color: #000000;
        color: #e5e7eb;
        transition: background-color 0.3s ease;
      }

      /* The glassmorphism effect */
      .glass {
        background-color: rgba(255, 255, 255, 0.05);
        -webkit-backdrop-filter: blur(10px);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.4);
      }

      .btn-primary {
        background-color: #3b74ff;
        color: white;
        padding: 0.75rem 1.5rem;
        border-radius: 0.75rem;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        transition: background-color 0.3s;
        border: none;
        cursor: pointer;
      }
      
      .btn-primary:hover {
        background-color: #2e5cdb;
      }
      
      .form-input {
        width: 100%;
        padding: 0.75rem;
        border: 1px solid #374151;
        border-radius: 0.75rem;
        background-color: #1a1a1a;
        color: #e5e7eb;
      }
      
      .form-input:focus {
        outline: none;
        box-shadow: 0 0 0 2px #3b74ff;
      }
      
      .btn-primary:focus {
        outline: none;
        box-shadow: 0 0 0 2px #3b74ff;
      }
      
      /* Dashboard card styles */
      .dashboard-card {
        background-color: rgba(255, 255, 255, 0.05);
        -webkit-backdrop-filter: blur(10px);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 2rem;
        padding: 2.5rem;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.4);
      }
      
      /* Text colors */
      .text-gray-600 {
        color: #d1d5db;
      }
      
      .text-gray-500 {
        color: #9ca3af;
      }
      
      .text-gray-400 {
        color: #9ca3af;
      }
      
      .text-gray-900 {
        color: #f9fafb;
      }
      
      .text-gray-800 {
        color: #f3f4f6;
      }
      
      .text-green-600 {
        color: #4ade80;
      }
      
      .text-yellow-600 {
        color: #fbbf24;
      }
      
      /* Background colors */
      .bg-gray-900 {
        background-color: #111827;
      }
      
      .bg-gray-800 {
        background-color: #1f2937;
      }
      
      .bg-gray-700 {
        background-color: #374151;
      }
      
      .bg-green-100 {
        background-color: #14532d;
        color: #86efac;
      }
      
      .bg-yellow-100 {
        background-color: #78350f;
        color: #fde68a;
      }
      
      /* Borders */
      .border-gray-700 {
        border-color: #374151;
      }
      
      .divide-gray-700 {
        border-color: #374151;
      }
      
      /* Hover states */
      .hover\:bg-gray-800:hover {
        background-color: #1f2937;
      }
      
      .hover\:text-blue-500:hover {
        color: #3b82f6;
      }

      /* Referral Program Specific Styles */
      .referral-gradient-bg {
        background: linear-gradient(135deg, #3b74ff 0%, #2e5cdb 100%);
      }
      
      .status-badge {
        padding: 0.35rem 0.75rem;
        border-radius: 9999px;
        font-size: 0.75rem;
        font-weight: 600;
      }
      
      .status-pending {
        background-color: rgba(245, 158, 11, 0.2);
        color: #f59e0b;
      }
      
      .status-approved {
        background-color: rgba(16, 185, 129, 0.2);
        color: #10b981;
      }
      
      .status-paid {
        background-color: rgba(139, 92, 246, 0.2);
        color: #8b5cf6;
      }
      
      .referral-table {
        border-collapse: separate;
        border-spacing: 0;
      }
      
      .referral-table th {
        background: rgba(30, 41, 59, 0.9);
      }
      
      .referral-table tr:last-child td {
        border-bottom: 0;
      }
    </style>
  </head>
  <body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5G6C5PLV"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
    <!-- Sidebar Navigation -->
    <div
      id="sidebar-nav"
      class="sidebar fixed top-0 left-0 h-full w-64 bg-gray-900 border-r border-gray-700 p-6 flex-col items-start space-y-8 z-50 transform -translate-x-full md:translate-x-0 transition-transform duration-300 ease-in-out"
    >
      <div class="flex items-center justify-between w-full">
        <span class="text-2xl font-bold text-[#3b74ff]">Phluowise</span>
        <button
          id="desktopMenuToggle"
          class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"
          aria-label="Toggle navigation menu"
          aria-expanded="false"
          aria-controls="sidebar-nav"
        >
          <svg
            class="w-6 h-6 text-gray-800 dark:text-gray-200"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M4 6h16M4 12h16m-7 6h7"
            ></path>
          </svg>
        </button>
      </div>
      <div class="flex flex-col space-y-4 w-full">
        <!-- Dashboard -->
        <a
          href="index.html"
          class="flex items-center space-x-3 text-lg text-[#3b74ff] font-medium p-2 rounded-lg bg-gray-800 transition-colors"
        >
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
          </svg>
          <span>Dashboard</span>
        </a>
        
        <!-- Referral Program -->
        <a
          href="#referral"
          id="referralNavLink"
          class="flex items-center space-x-3 text-lg text-gray-200 hover:text-[#3b74ff] font-medium p-2 rounded-lg hover:bg-gray-700 transition-colors"
        >
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path>
          </svg>
          <span>Referral Program</span>
        </a>
        
        <!-- Transactions -->
        <a
          href="transactions.html"
          class="flex items-center space-x-3 text-lg text-gray-200 hover:text-[#3b74ff] font-medium p-2 rounded-lg hover:bg-gray-700 transition-colors"
        >
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
          <span>Transactions</span>
        </a>
        
        <!-- Leaderboard -->
        <a
          href="leaderboard.html"
          class="flex items-center space-x-3 text-lg text-gray-200 hover:text-[#3b74ff] font-medium p-2 rounded-lg hover:bg-gray-700 transition-colors"
        >
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
          </svg>
          <span>Leaderboard</span>
        </a>
        
        <!-- Profile -->
        <a
          href="profile.html"
          class="flex items-center space-x-3 text-lg text-gray-200 hover:text-[#3b74ff] font-medium p-2 rounded-lg hover:bg-gray-700 transition-colors"
        >
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
          </svg>
          <span>Profile</span>
        </a>
        
        <!-- Documentation -->
        <a
          href="documentation.html" id="docsLink"
          class="flex items-center space-x-3 text-lg text-gray-200 hover:text-[#3b74ff] font-medium p-2 rounded-lg hover:bg-gray-700 transition-colors"
        >
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
          </svg>
          <span>Documentation</span>
        </a>
        
        <!-- Sign Out -->
        <button
          id="signOutBtn"
          class="flex items-center space-x-3 text-lg text-red-400 hover:text-red-300 font-medium p-2 rounded-lg hover:bg-red-900/20 transition-colors w-full text-left mt-8"
        >
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
          </svg>
          <span>Sign Out</span>
        </button>
      </div>
    </div>

    <!-- Main Dashboard Container -->
    <main
      id="main-content"
      class="ml-0 md:ml-64 p-4 md:p-8 transition-all duration-300 ease-in-out"
    >
      <!-- Mobile Menu Button -->
      <div class="flex items-center justify-between md:hidden mb-4">
        <h1 class="text-xl font-bold text-[#3b74ff]">Phluowise</h1>
        <button
          id="mobileMenuToggle"
          class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"
          aria-label="Toggle navigation menu"
          aria-expanded="false"
          aria-controls="sidebar-nav"
        >
          <svg
            class="w-6 h-6 text-gray-800 dark:text-gray-200"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M4 6h16M4 12h16m-7 6h7"
            ></path>
          </svg>
        </button>
      </div>

      <!-- Dashboard View -->
      <div id="dashboard-view">
        <!-- Main content grid with gap for margin -->
        <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8">
          <!-- User and Referral Section -->
          <div class="md:col-span-1">
            <!-- Welcome Card -->
            <div class="dashboard-card glass">
              <h2 class="text-2xl font-bold mb-2">Welcome, <span id="userName">User</span></h2>
              <p class="text-gray-400 mb-4">Track your referrals and earnings</p>
              <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="bg-gray-800 p-4 rounded-lg">
                  <p class="text-gray-400 text-sm">Total Referrals</p>
                  <p class="text-2xl font-bold text-blue-400" id="totalReferrals">0</p>
                </div>
                <div class="bg-gray-800 p-4 rounded-lg">
                  <p class="text-gray-400 text-sm">Active Referrals</p>
                  <p class="text-2xl font-bold text-green-400" id="activeReferrals">0</p>
                </div>
                <div class="bg-gray-800 p-4 rounded-lg">
                  <p class="text-gray-400 text-sm">Your Rank</p>
                  <p class="text-2xl font-bold text-yellow-400" id="userRank">#0</p>
                </div>
              </div>
            </div>

            <!-- Team Management Section (Leader Only) -->
            <div id="teamManagementSection" class="dashboard-card glass hidden">
              <h2 class="text-2xl font-bold mb-4">Team Management</h2>
              <p class="text-gray-600 dark:text-gray-300 mb-4">
                Team ID:
                <span
                  id="teamIdDisplay"
                  class="font-mono text-sm break-all"
                ></span>
              </p>

              <div class="mb-6">
                <h3 class="font-semibold text-lg mb-2">Add Team Member</h3>
                <div class="flex space-x-2">
                  <input
                    type="email"
                    id="newMemberEmail"
                    placeholder="Enter member's email"
                    class="form-input dark:bg-gray-800 dark:text-white dark:border-gray-600"
                  />
                  <button id="addMemberBtn" class="btn-primary flex-shrink-0">
                    Add
                  </button>
                </div>
              </div>

              <div>
                <h3 class="font-semibold text-lg mb-2">
                  Team Members (<span id="memberCount">0</span>/5)
                </h3>
                <ul id="memberList" class="space-y-2"></ul>
              </div>
            </div>
          </div>

          <!-- Referrals and Payments Section -->
          <div class="md:col-span-2 flex flex-col gap-8">
            <!-- Referrals List -->
            <div class="dashboard-card glass">
              <h2 class="text-2xl font-bold mb-4">Your Referrals</h2>
              <div class="overflow-x-auto">
                <table
                  class="min-w-full divide-y divide-gray-200 dark:divide-gray-700"
                >
                  <thead>
                    <tr
                      class="text-left text-xs font-semibold uppercase tracking-wider text-gray-500 dark:text-gray-400"
                    >
                      <th class="py-3 px-4">Company</th>
                      <th class="py-3 px-4">Location</th>
                      <th class="py-3 px-4">Amount</th>
                      <th class="py-3 px-4">Date</th>
                    </tr>
                  </thead>
                  <tbody
                    id="referralTableBody"
                    class="divide-y divide-gray-200 dark:divide-gray-700"
                  >
                    <!-- Referral data will be populated here -->
                  </tbody>
                </table>
                <p
                  id="noReferralsMessage"
                  class="text-center text-gray-500 dark:text-gray-400 mt-4"
                >
                  No referrals yet.
                </p>
              </div>
            </div>

            <!-- Earnings Card -->
            <div class="dashboard-card glass">
              <div class="flex justify-between items-center mb-4">
                <h2 class="text-xl font-bold">Your Earnings</h2>
                <span class="text-green-400 font-semibold">+12.5% from last month</span>
              </div>
              <div class="h-48 bg-gray-800 rounded-lg p-4 mb-4">
                <canvas id="earningsChart"></canvas>
              </div>
              <div class="grid grid-cols-3 gap-4 mt-4">
                <div class="text-center">
                  <p class="text-gray-400 text-sm">This Month</p>
                  <p class="text-lg font-semibold text-green-400">$2,450</p>
                </div>
                <div class="text-center">
                  <p class="text-gray-400 text-sm">Last Month</p>
                  <p class="text-lg font-semibold">$2,180</p>
                </div>
                <div class="text-center">
                  <p class="text-gray-400 text-sm">Total</p>
                  <p class="text-lg font-semibold text-blue-400">$18,750</p>
                </div>
              </div>
            </div>

            <!-- Team Leaderboard -->
            <div class="dashboard-card glass">
              <div class="flex justify-between items-center mb-4">
                <h2 class="text-xl font-bold">Team Leaderboard</h2>
                <span class="text-sm text-blue-400">Updated 5 min ago</span>
              </div>
              <div class="space-y-3">
                <!-- 1st Place -->
                <div class="flex items-center justify-between p-3 bg-gradient-to-r from-yellow-800/30 to-yellow-900/10 rounded-lg border border-yellow-500/30">
                  <div class="flex items-center space-x-3">
                    <div class="w-8 h-8 rounded-full bg-yellow-500 flex items-center justify-center text-yellow-100 font-bold">1</div>
                    <div>
                      <p class="font-medium">Aqua Warriors</p>
                      <p class="text-sm text-yellow-300">24,500 pts</p>
                    </div>
                  </div>
                  <div class="text-right">
                    <span class="text-yellow-400 font-bold text-lg">#1</span>
                    <p class="text-xs text-yellow-400">+1,250 this week</p>
                  </div>
                </div>
                
                <!-- 2nd Place -->
                <div class="flex items-center justify-between p-3 bg-gradient-to-r from-gray-800/30 to-gray-900/10 rounded-lg border border-gray-600/30">
                  <div class="flex items-center space-x-3">
                    <div class="w-8 h-8 rounded-full bg-gray-500 flex items-center justify-center text-gray-100 font-bold">2</div>
                    <div>
                      <p class="font-medium">Water Masters</p>
                      <p class="text-sm text-gray-400">22,150 pts</p>
                    </div>
                  </div>
                  <div class="text-right">
                    <span class="text-gray-400 font-bold text-lg">#2</span>
                    <p class="text-xs text-gray-400">+980 this week</p>
                  </div>
                </div>
                
                <!-- 3rd Place -->
                <div class="flex items-center justify-between p-3 bg-gradient-to-r from-amber-800/30 to-amber-900/10 rounded-lg border border-amber-500/30">
                  <div class="flex items-center space-x-3">
                    <div class="w-8 h-8 rounded-full bg-amber-600 flex items-center justify-center text-amber-100 font-bold">3</div>
                    <div>
                      <p class="font-medium">Hydro Kings</p>
                      <p class="text-sm text-amber-300">20,890 pts</p>
                    </div>
                  </div>
                  <div class="text-right">
                    <span class="text-amber-400 font-bold text-lg">#3</span>
                    <p class="text-xs text-amber-400">+1,120 this week</p>
                  </div>
                </div>
                
                <!-- 4th Place (Your Team) -->
                <div class="flex items-center justify-between p-3 bg-gradient-to-r from-blue-900/30 to-blue-900/10 rounded-lg border border-blue-500/30">
                  <div class="flex items-center space-x-3">
                    <div class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-blue-100 font-bold">4</div>
                    <div>
                      <p class="font-medium">Your Team</p>
                      <p class="text-sm text-blue-300">18,750 pts</p>
                    </div>
                  </div>
                  <div class="text-right">
                    <span class="text-blue-400 font-bold text-lg">#4</span>
                    <p class="text-xs text-blue-400">+1,450 this week</p>
                  </div>
                </div>
                
                <!-- 5th Place -->
                <div class="flex items-center justify-between p-3 bg-gray-800/30 rounded-lg hover:bg-gray-700/30 transition-colors">
                  <div class="flex items-center space-x-3">
                    <div class="w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center text-gray-300 font-bold">5</div>
                    <div>
                      <p class="font-medium">Oceanic Elite</p>
                      <p class="text-sm text-gray-400">17,200 pts</p>
                    </div>
                  </div>
                  <div class="text-right">
                    <span class="text-gray-400 font-bold">#5</span>
                    <p class="text-xs text-gray-500">+890 this week</p>
                  </div>
                </div>
              </div>
              <div class="mt-4 text-center">
                <button class="text-blue-400 hover:text-blue-300 text-sm font-medium">View Full Leaderboard →</button>
              </div>
            </div>

            <!-- Payment Section -->
            <div class="dashboard-card glass">
              <h2 class="text-2xl font-bold mb-4">Your Earnings</h2>
              <div class="flex items-center justify-between mb-6">
                <div>
                  <p class="text-sm text-gray-500 dark:text-gray-400">
                    Total Unpaid Balance
                  </p>
                  <p
                    id="totalEarnings"
                    class="text-4xl font-bold text-green-600 dark:text-green-400"
                  >
                    US$0.00
                  </p>
                </div>
                <button id="requestPaymentBtn" class="btn-primary">
                  Request Payment
                </button>
              </div>

              <div>
                <div class="flex justify-between items-center mb-4">
                  <h3 class="text-xl font-bold">Payment Logs</h3>
                  <span class="text-sm text-blue-400">Recent Transactions</span>
                </div>
                <div class="overflow-x-auto">
                  <table class="min-w-full divide-y divide-gray-700">
                    <thead>
                      <tr class="text-left text-xs font-semibold uppercase tracking-wider text-gray-400">
                        <th class="py-3 px-4">Date</th>
                        <th class="py-3 px-4">Amount</th>
                        <th class="py-3 px-4">Status</th>
                        <th class="py-3 px-4">Type</th>
                        <th class="py-3 px-4 text-right">Action</th>
                      </tr>
                    </thead>
                    <tbody id="paymentLogTableBody" class="divide-y divide-gray-800">
                      <tr class="hover:bg-gray-800/50">
                        <td class="py-3 px-4 text-sm text-gray-300">2025-08-28</td>
                        <td class="py-3 px-4 text-sm font-medium text-green-400">$1,200.00</td>
                        <td class="py-3 px-4">
                          <span class="px-2 py-1 text-xs font-medium rounded-full bg-green-900/30 text-green-400">
                            Completed
                          </span>
                        </td>
                        <td class="py-3 px-4 text-sm text-gray-400">Withdrawal</td>
                        <td class="py-3 px-4 text-right">
                          <a href="transaction-details.html" class="text-blue-400 hover:text-blue-300 text-sm">View</a>
                        </td>
                      </tr>
                      <tr class="hover:bg-gray-800/50">
                        <td class="py-3 px-4 text-sm text-gray-300">2025-08-21</td>
                        <td class="py-3 px-4 text-sm font-medium text-green-400">$850.00</td>
                        <td class="py-3 px-4">
                          <span class="px-2 py-1 text-xs font-medium rounded-full bg-green-900/30 text-green-400">
                            Completed
                          </span>
                        </td>
                        <td class="py-3 px-4 text-sm text-gray-400">Withdrawal</td>
                        <td class="py-3 px-4 text-right">
                          <a href="transaction-details.html" class="text-blue-400 hover:text-blue-300 text-sm">View</a>
                        </td>
                      </tr>
                      <tr class="hover:bg-gray-800/50">
                        <td class="py-3 px-4 text-sm text-gray-300">2025-08-14</td>
                        <td class="py-3 px-4 text-sm font-medium text-yellow-400">$1,500.00</td>
                        <td class="py-3 px-4">
                          <span class="px-2 py-1 text-xs font-medium rounded-full bg-yellow-900/30 text-yellow-400">
                            Pending
                          </span>
                        </td>
                        <td class="py-3 px-4 text-sm text-gray-400">Withdrawal</td>
                        <td class="py-3 px-4 text-right">
                          <a href="transaction-details.html" class="text-blue-400 hover:text-blue-300 text-sm">View</a>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <div class="mt-4 text-center">
                    <a href="transactions.html" class="text-blue-400 hover:text-blue-300 text-sm font-medium">View All Transactions →</a>
                  </div>
                </div>
              </div>
            </div>

            <!-- Team Leaderboard -->
            <div class="dashboard-card glass">
              <div class="flex justify-between items-center mb-4">
                <div>
                  <h2 class="text-2xl font-bold">Team Leaderboard</h2>
                  <p class="text-sm text-gray-400">Top performing teams this week</p>
                </div>
                <div class="text-right">
                  <div class="text-blue-400 text-sm">
                    <i class="fas fa-sync-alt mr-1"></i>
                    <span>Updated 5 min ago</span>
                  </div>
                  <div class="text-xs text-gray-500">
                    <span class="text-green-400">▲ 2.5%</span> from last week
                  </div>
                </div>
              </div>
              
              <!-- Team Rankings Table -->
              <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-700">
                  <thead>
                    <tr>
                      <th class="px-4 py-3 text-left text-xs text-gray-400 uppercase">Rank</th>
                      <th class="px-4 py-3 text-left text-xs text-gray-400 uppercase">Team</th>
                      <th class="px-4 py-3 text-left text-xs text-gray-400 uppercase">Points</th>
                      <th class="px-4 py-3 text-left text-xs text-gray-400 uppercase">Companies Referred</th>
                      <th class="px-4 py-3 text-left text-xs text-gray-400 uppercase">Weekly Change</th>
                    </tr>
                  </thead>
                  <tbody class="divide-y divide-gray-800">
                    <!-- Team 1 -->
                    <tr class="hover:bg-gray-800/50">
                      <td class="px-4 py-3">
                        <div class="w-8 h-8 rounded-full bg-yellow-500 flex items-center justify-center text-yellow-100 font-bold text-sm">1</div>
                      </td>
                      <td class="px-4 py-3">
                        <div class="flex items-center">
                          <div class="h-10 w-10 rounded-full bg-yellow-600 flex items-center justify-center text-yellow-100 font-bold text-lg">AW</div>
                          <div class="ml-3">
                            <div class="font-medium">Aqua Warriors</div>
                            <div class="text-xs text-gray-400">3 members</div>
                          </div>
                        </div>
                      </td>
                      <td class="px-4 py-3 font-bold">24,500</td>
                      <td class="px-4 py-3">
                        <div class="flex items-center">
                          <div class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white text-sm font-medium">12</div>
                        </div>
                      </td>
                      <td class="px-4 py-3 text-green-400">▲ +1,250 (5.4%)</td>
                    </tr>
                    
                    <!-- Team 2 -->
                    <tr class="hover:bg-gray-800/50">
                      <td class="px-4 py-3">
                        <div class="w-8 h-8 rounded-full bg-gray-400 flex items-center justify-center text-gray-100 font-bold text-sm">2</div>
                      </td>
                      <td class="px-4 py-3">
                        <div class="flex items-center">
                          <div class="h-10 w-10 rounded-full bg-gray-500 flex items-center justify-center text-gray-100 font-bold text-lg">TW</div>
                          <div class="ml-3">
                            <div class="font-medium">Tech Wizards</div>
                            <div class="text-xs text-gray-400">5 members</div>
                          </div>
                        </div>
                      </td>
                      <td class="px-4 py-3 font-bold">21,300</td>
                      <td class="px-4 py-3">
                        <div class="flex items-center">
                          <div class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white text-sm font-medium">9</div>
                        </div>
                      </td>
                      <td class="px-4 py-3 text-green-400">▲ +980 (4.8%)</td>
                    </tr>
                    
                    <!-- Team 3 -->
                    <tr class="hover:bg-gray-800/50">
                      <td class="px-4 py-3">
                        <div class="w-8 h-8 rounded-full bg-amber-700 flex items-center justify-center text-amber-100 font-bold text-sm">3</div>
                      </td>
                      <td class="px-4 py-3">
                        <div class="flex items-center">
                          <div class="h-10 w-10 rounded-full bg-amber-600 flex items-center justify-center text-amber-100 font-bold text-lg">DS</div>
                          <div class="ml-3">
                            <div class="font-medium">Digital Sharks</div>
                            <div class="text-xs text-gray-400">4 members</div>
                          </div>
                        </div>
                      </td>
                      <td class="px-4 py-3 font-bold">19,750</td>
                      <td class="px-4 py-3">
                        <div class="flex items-center">
                          <div class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white text-sm font-medium">7</div>
                        </div>
                      </td>
                      <td class="px-4 py-3 text-green-400">▲ +1,120 (6.0%)</td>
                    </tr>
                    
                    <!-- Team 4 (Your Team) -->
                    <tr class="hover:bg-gray-800/50 bg-blue-900/10">
                      <td class="px-4 py-3">
                        <div class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-blue-100 font-bold text-sm">4</div>
                      </td>
                      <td class="px-4 py-3">
                        <div class="flex items-center">
                          <div class="h-10 w-10 rounded-full bg-blue-700 flex items-center justify-center text-blue-100 font-bold text-lg">YT</div>
                          <div class="ml-3">
                            <div class="font-medium flex items-center">Your Team <span class="ml-2 text-xs bg-blue-900/50 text-blue-300 px-2 py-0.5 rounded-full">You</span></div>
                            <div class="text-xs text-gray-400">3 members</div>
                          </div>
                        </div>
                      </td>
                      <td class="px-4 py-3 font-bold text-blue-300">18,750</td>
                      <td class="px-4 py-3">
                        <div class="flex items-center">
                          <div class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white text-sm font-medium">6</div>
                        </div>
                      </td>
                      <td class="px-4 py-3 text-green-400">▲ +890 (5.0%)</td>
                    </tr>
                    
                    <!-- Team 5 -->
                    <tr class="hover:bg-gray-800/50">
                      <td class="px-4 py-3">
                        <div class="w-8 h-8 rounded-full flex items-center justify-center text-gray-100 font-bold text-sm">5</div>
                      </td>
                      <td class="px-4 py-3">
                        <div class="flex items-center">
                          <div class="h-10 w-10 rounded-full bg-purple-500 flex items-center justify-center text-purple-100 font-bold text-lg">QP</div>
                          <div class="ml-3">
                            <div class="font-medium">Quantum Pioneers</div>
                            <div class="text-xs text-gray-400">6 members</div>
                          </div>
                        </div>
                      </td>
                      <td class="px-4 py-3 font-bold">16,800</td>
                      <td class="px-4 py-3">
                        <div class="flex items-center">
                          <div class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white text-sm font-medium">5</div>
                        </div>
                      </td>
                      <td class="px-4 py-3 text-green-400">▲ +720 (4.5%)</td>
                    </tr>
                  </tbody>
                </table>
              </div>
              
              <!-- View All Teams Button -->
              <div class="mt-4 pt-4 border-t border-gray-700/50">
                <a href="leaderboard.html" class="w-full flex items-center justify-between text-blue-400 hover:text-blue-300 transition-colors group">
                  <span>View full leaderboard</span>
                  <i class="fas fa-arrow-right group-hover:translate-x-1 transition-transform"></i>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Referral Program View (Initially Hidden) -->
      <div id="referral-view" class="hidden max-w-4xl mx-auto">
        <div class="text-center mb-8">
          <h1 class="text-3xl font-bold mb-2">Phluowise Referral Program</h1>
          <p class="text-gray-400">Earn 20% commission for every client you refer</p>
        </div>

        <!-- Referral Card -->
        <div class="dashboard-card glass mb-8">
          <div class="referral-gradient-bg rounded-2xl p-6 text-center mb-8">
            <h2 class="text-2xl font-bold mb-4">Refer your first client now and earn a 20% commission</h2>
            <p class="text-lg mb-6">They'll get a 20% discount too.</p>
            
            <div class="bg-white/10 p-4 rounded-xl mb-6">
              <div class="flex items-center justify-between bg-gray-900 rounded-lg p-3 mb-2">
                <code class="text-lg font-mono overflow-x-auto whitespace-nowrap" id="referralLink">https://hostinger.com?REFERRALCODE=i8RPHLUOWGQM</code>
              </div>
              <button id="copyButton" class="btn-primary text-white font-semibold py-3 px-6 rounded-lg w-full">
                <i class="far fa-copy mr-2"></i> Copy referral link
              </button>
            </div>
            
            <div class="flex justify-center space-x-4">
              <button class="bg-white/20 hover:bg-white/30 text-white py-2 px-4 rounded-lg transition">
                <i class="fab fa-twitter mr-2"></i> Twitter
              </button>
              <button class="bg-white/20 hover:bg-white/30 text-white py-2 px-4 rounded-lg transition">
                <i class="fab fa-facebook mr-2"></i> Facebook
              </button>
              <button class="bg-white/20 hover:bg-white/30 text-white py-2 px-4 rounded-lg transition">
                <i class="fab fa-linkedin mr-2"></i> LinkedIn
              </button>
              <button class="bg-white/20 hover:bg-white/30 text-white py-2 px-4 rounded-lg transition">
                <i class="fab fa-whatsapp mr-2"></i> WhatsApp
              </button>
            </div>
          </div>
          
          <!-- Stats -->
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
            <div class="bg-gray-800 p-4 rounded-xl text-center">
              <p class="text-3xl font-bold text-blue-400">$0</p>
              <p class="text-gray-400">Total Earnings</p>
            </div>
            <div class="bg-gray-800 p-4 rounded-xl text-center">
              <p class="text-3xl font-bold text-green-400">0</p>
              <p class="text-gray-400">Successful Referrals</p>
            </div>
            <div class="bg-gray-800 p-4 rounded-xl text-center">
              <p class="text-3xl font-bold text-purple-400">0</p>
              <p class="text-gray-400">Pending Referrals</p>
            </div>
          </div>
          
          <!-- Referral Log -->
          <div>
            <h3 class="text-xl font-semibold mb-4">Your Referral Activity</h3>
            <div class="bg-gray-800/30 rounded-xl overflow-hidden">
              <table class="w-full referral-table">
                <thead>
                  <tr>
                    <th class="text-left py-4 px-6">Company</th>
                    <th class="text-left py-4 px-6">Date Referred</th>
                    <th class="text-left py-4 px-6">Status</th>
                    <th class="text-right py-4 px-6">Commission</th>
                  </tr>
                </thead>
                <tbody id="referralLog">
                  <tr>
                    <td colspan="4" class="text-center py-8 text-gray-500">
                      No referrals yet. Your referral activity will appear here.
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        
        <!-- How it works -->
        <div class="dashboard-card glass">
          <h3 class="text-xl font-semibold mb-4">How it works</h3>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="bg-gray-800/30 p-4 rounded-xl">
              <div class="w-12 h-12 rounded-full bg-blue-500 flex items-center justify-center text-white mb-4">
                <span class="text-xl font-bold">1</span>
              </div>
              <h4 class="font-semibold mb-2">Share your link</h4>
              <p class="text-gray-400">Share your unique referral link with businesses</p>
            </div>
            <div class="bg-gray-800/30 p-4 rounded-xl">
              <div class="w-12 h-12 rounded-full bg-blue-500 flex items-center justify-center text-white mb-4">
                <span class="text-xl font-bold">2</span>
              </div>
              <h4 class="font-semibold mb-2">They sign up</h4>
              <p class="text-gray-400">Businesses sign up using your referral link</p>
            </div>
            <div class="bg-gray-800/30 p-4 rounded-xl">
              <div class="w-12 h-12 rounded-full bg-blue-500 flex items-center justify-center text-white mb-4">
                <span class="text-xl font-bold">3</span>
              </div>
              <h4 class="font-semibold mb-2">Earn commission</h4>
              <p class="text-gray-400">Earn 20% commission on their first purchase</p>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Modal for messages and confirmation -->
    <div
      id="modal"
      class="fixed inset-0 bg-gray-900 bg-opacity-50 hidden items-center justify-center p-4 z-50"
    >
      <div
        class="bg-white dark:bg-gray-800 rounded-xl p-8 max-w-sm w-full shadow-xl"
      >
        <h3 id="modalTitle" class="text-lg font-bold mb-4"></h3>
        <p id="modalMessage" class="text-gray-600 dark:text-gray-300 mb-6"></p>
        <div class="flex justify-end space-x-4">
          <button
            id="modalCloseBtn"
            class="btn-secondary dark:bg-gray-700 dark:text-white"
          >
            Close
          </button>
        </div>
      </div>
    </div>

    <!-- Add Chart.js for the earnings graph -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <script>
      // Initialize the page when DOM is loaded
      document.addEventListener('DOMContentLoaded', function() {
        // Load user data from onboarding/signup
        loadUserData();
        
        // Initialize earnings chart
        initializeEarningsChart();
        
        // Setup event listeners
        setupEventListeners();
        
        // Setup navigation
        setupNavigation();
        
        // Setup referral functionality
        setupReferralFunctionality();
      });
      
      // Load user data from localStorage
      function loadUserData() {
        const userData = JSON.parse(localStorage.getItem('userData'));
        const userProfile = JSON.parse(localStorage.getItem('userProfile'));
        
        if (userData || userProfile) {
          // Update user information
          const userName = document.getElementById('userName');
          if (userName) {
            if (userProfile && userProfile.email) {
              const email = userProfile.email;
              const username = email.split('@')[0];
              userName.textContent = username.charAt(0).toUpperCase() + username.slice(1);
            } else {
              userName.textContent = 'User';
            }
          }
          
          // Update team information if available
          if (userData && userData.team) {
            const teamManagementSection = document.getElementById('teamManagementSection');
            if (teamManagementSection && userData.team.members && userData.team.members.length > 0) {
              teamManagementSection.classList.remove('hidden');
              
              // Update team members list
              const memberList = document.getElementById('memberList');
              const memberCount = document.getElementById('memberCount');
              
              if (memberList && memberCount) {
                memberCount.textContent = userData.team.members.length;
                
                // Clear existing list
                memberList.innerHTML = '';
                
                // Add team members to the list
                userData.team.members.forEach(member => {
                  const listItem = document.createElement('li');
                  listItem.className = 'flex justify-between items-center py-2 border-b border-gray-700';
                  
                  let memberContent = '';
                  if (member.id === 'current-user') {
                    memberContent = `
                      <div class="flex items-center">
                        <div class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white mr-3">
                          <i class="fas fa-user"></i>
                        </div>
                        <div>
                          <p class="text-sm font-medium">${member.name || 'You'}</p>
                          <p class="text-xs text-gray-400">${member.email}</p>
                        </div>
                      </div>
                      <span class="text-xs bg-blue-900 text-blue-300 px-2 py-1 rounded-full">Admin</span>
                    `;
                  } else {
                    memberContent = `
                      <div class="flex items-center">
                        <div class="w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center text-gray-300 mr-3">
                          <i class="fas fa-user"></i>
                        </div>
                        <div>
                          <p class="text-sm font-medium">${member.name || 'Team Member'}</p>
                          <p class="text-xs text-gray-400">${member.email}</p>
                        </div>
                      </div>
                      <span class="text-xs bg-gray-700 text-gray-300 px-2 py-1 rounded-full">${member.role === 'admin' ? 'Admin' : 'Member'}</span>
                    `;
                  }
                  
                  listItem.innerHTML = memberContent;
                  memberList.appendChild(listItem);
                });
              }
            }
          }
        }
      }
      
      // Initialize earnings chart with dummy data
      function initializeEarningsChart() {
        const ctx = document.getElementById('earningsChart');
        if (!ctx) return;
        
        new Chart(ctx, {
          type: 'bar',
          data: {
            labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
            datasets: [{
              label: 'Earnings ($)',
              data: [350, 520, 680, 450, 750, 600, 300],
              backgroundColor: 'rgba(59, 130, 246, 0.7)',
              borderColor: 'rgba(59, 130, 246, 1)',
              borderWidth: 1,
              borderRadius: 6,
              barThickness: 12
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                display: false
              }
            },
            scales: {
              y: {
                beginAtZero: true,
                grid: {
                  color: 'rgba(255, 255, 255, 0.1)'
                },
                ticks: {
                  color: '#9CA3AF',
                  callback: function(value) {
                    return '$' + value;
                  }
                }
              },
              x: {
                grid: {
                  display: false
                },
                ticks: {
                  color: '#9CA3AF'
                }
              }
            }
          }
        });
      }
      
      function setupEventListeners() {
        // Mobile menu toggle
        const mobileMenuToggle = document.getElementById('mobileMenuToggle');
        const sidebarNav = document.getElementById('sidebar-nav');
        
        if (mobileMenuToggle && sidebarNav) {
          mobileMenuToggle.addEventListener('click', function() {
            sidebarNav.classList.toggle('-translate-x-full');
          });
        }
        
        // Desktop menu toggle
        const desktopMenuToggle = document.getElementById('desktopMenuToggle');
        if (desktopMenuToggle && sidebarNav) {
          desktopMenuToggle.addEventListener('click', function() {
            sidebarNav.classList.toggle('-translate-x-full');
          });
        }
        
        // Sign out button
        const signOutBtn = document.getElementById('signOutBtn');
        if (signOutBtn) {
          signOutBtn.addEventListener('click', function() {
            if (confirm('Are you sure you want to sign out?')) {
              // Clear user data from localStorage
              localStorage.removeItem('userData');
              localStorage.removeItem('userProfile');
              localStorage.removeItem('onboardingComplete');
              
              // Redirect to signin page
              window.location.href = 'signin.html';
            }
          });
        }
        
        // Documentation link
        const docsLink = document.getElementById('docsLink');
        if (docsLink) {
          docsLink.addEventListener('click', function(e) {
            e.preventDefault();
            showModal('Documentation', 'Documentation will be available soon!');
          });
        }
        
        // Referral navigation link
        const referralNavLink = document.getElementById('referralNavLink');
        if (referralNavLink) {
          referralNavLink.addEventListener('click', function(e) {
            e.preventDefault();
            showReferralView();
          });
        }
      }
      
      function setupNavigation() {
        // Add active class to current page in navigation
        const currentPage = window.location.pathname.split('/').pop();
        const navLinks = document.querySelectorAll('#sidebar-nav a');
        
        navLinks.forEach(link => {
          const href = link.getAttribute('href');
          if (href === currentPage) {
            link.classList.add('bg-gray-800', 'text-blue-400');
            link.classList.remove('text-gray-200', 'hover:text-blue-400');
          }
        });
      }
      
      function setupReferralFunctionality() {
        // Copy referral link functionality
        const copyButton = document.getElementById('copyButton');
        const referralLink = document.getElementById('referralLink');
        
        if (copyButton && referralLink) {
          copyButton.addEventListener('click', function() {
            const tempTextArea = document.createElement('textarea');
            tempTextArea.value = referralLink.textContent;
            document.body.appendChild(tempTextArea);
            tempTextArea.select();
            document.execCommand('copy');
            document.body.removeChild(tempTextArea);
            
            // Visual feedback
            const originalText = copyButton.innerHTML;
            copyButton.innerHTML = '<i class="fas fa-check mr-2"></i> Copied!';
            copyButton.classList.add('bg-green-500');
            
            setTimeout(() => {
              copyButton.innerHTML = originalText;
              copyButton.classList.remove('bg-green-500');
            }, 2000);
          });
        }
        
        // Sample referral data (in a real app, this would come from your backend)
        const sampleReferrals = [
          { 
            company: "Tech Solutions Inc", 
            date: "2023-10-15", 
            status: "pending", 
            commission: "$120.00" 
          },
          { 
            company: "Digital Marketing Pro", 
            date: "2023-09-22", 
            status: "approved", 
            commission: "$85.50" 
          },
          { 
            company: "WebDev Masters", 
            date: "2023-08-05", 
            status: "paid", 
            commission: "$210.00" 
          }
        ];
        
        // Function to update referral log
        function updateReferralLog(referrals) {
          const referralLog = document.getElementById('referralLog');
          
          if (!referralLog) return;
          
          if (referrals.length === 0) {
            referralLog.innerHTML = `
              <tr>
                <td colspan="4" class="text-center py-8 text-gray-500">
                  No referrals yet. Your referral activity will appear here.
                </td>
              </tr>
            `;
            return;
          }
          
          let logHTML = '';
          referrals.forEach(ref => {
            let statusClass = '';
            if (ref.status === 'pending') statusClass = 'status-pending';
            if (ref.status === 'approved') statusClass = 'status-approved';
            if (ref.status === 'paid') statusClass = 'status-paid';
            
            logHTML += `
              <tr class="border-t border-gray-700/50">
                <td class="py-4 px-6 font-medium">${ref.company}</td>
                <td class="py-4 px-6">${ref.date}</td>
                <td class="py-4 px-6">
                  <span class="status-badge ${statusClass}">${ref.status}</span>
                </td>
                <td class="py-4 px-6 text-right">${ref.commission}</td>
              </tr>
            `;
          });
          
          referralLog.innerHTML = logHTML;
        }
        
        // Initially populate with sample data (would be empty in real implementation)
        // updateReferralLog(sampleReferrals);
        
        // In a real implementation, you would fetch the user's actual referrals from your backend
        // For demonstration, we're starting with an empty log
      }
      
      function showReferralView() {
        // Hide dashboard view
        const dashboardView = document.getElementById('dashboard-view');
        if (dashboardView) {
          dashboardView.classList.add('hidden');
        }
        
        // Show referral view
        const referralView = document.getElementById('referral-view');
        if (referralView) {
          referralView.classList.remove('hidden');
        }
        
        // Update navigation active states
        const navLinks = document.querySelectorAll('#sidebar-nav a');
        navLinks.forEach(link => {
          link.classList.remove('bg-gray-800', 'text-blue-400');
          link.classList.add('text-gray-200', 'hover:text-blue-400');
        });
        
        // Set referral link as active
        const referralNavLink = document.getElementById('referralNavLink');
        if (referralNavLink) {
          referralNavLink.classList.add('bg-gray-800', 'text-blue-400');
          referralNavLink.classList.remove('text-gray-200', 'hover:text-blue-400');
        }
      }
      
      function showModal(title, message) {
        const modal = document.getElementById('modal');
        const modalTitle = document.getElementById('modalTitle');
        const modalMessage = document.getElementById('modalMessage');
        const modalCloseBtn = document.getElementById('modalCloseBtn');
        
        if (modal && modalTitle && modalMessage) {
          modalTitle.textContent = title;
          modalMessage.textContent = message;
          modal.classList.remove('hidden');
          
          if (modalCloseBtn) {
            modalCloseBtn.addEventListener('click', function() {
              modal.classList.add('hidden');
            });
          }
        }
      }
    </script>
  </body>
</html>